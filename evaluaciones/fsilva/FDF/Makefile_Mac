NAME = fdf

NAME_B = fdf_bonus

SRCS = error_handling.c\
	   draw_image.c\
	   draw_line.c\
	   draw_mesh.c\
	   fdf_main.c\
	   focus.c\
	   ft_atoi_limits.c\
	   ft_split_to_int.c\
	   ft_split_to_int2.c\
	   ft_substrf.c\
	   frees.c\
	   get_coordinates.c\
	   get_next_line_bonus.c\
	   get_next_line_utils_bonus.c\
	   hooks_mandatory.c\
	   init_store_mandatory.c\
	   init_window.c\
	   origin.c\
	   read_map.c\
	   read_map2.c

SRCS_B = error_handling.c\
	   draw_image.c\
	   draw_line.c\
	   draw_mesh.c\
	   fdf_main.c\
	   focus.c\
	   ft_atoi_limits.c\
	   ft_split_to_int.c\
	   ft_split_to_int2.c\
	   ft_substrf.c\
	   frees.c\
	   get_coordinates.c\
	   get_next_line_bonus.c\
	   get_next_line_utils_bonus.c\
	   hooks_bonus.c\
	   hooks2_bonus.c\
	   init_store_bonus.c\
	   init_window.c\
	   origin.c\
	   projections.c\
	   read_map.c\
	   read_map2.c

OBJS = $(SRCS:.c=.o)
OBJS_B = $(SRCS_B:.c=.o)
CC = gcc
CFLAGS = -Wall -Werror -Wextra -g3
#CFLAGS = -Wall -Wextra -Werror -g3 -fsanitize=address
#CFLAGSSAN = -Wall -Werror -Wextra -g3 -fsanitize=address
CFLAGSSAN =  -Wall -Werror -Wextra -g3
MLX = -L./mlx -lmlx -framework OpenGL -framework Appkit
RM = rm -rf

.PHONY: clean fclean all re

all: $(NAME)

.o:.c
	$(CC) $(CFLAGS) -c $< -o $@

$(NAME): $(OBJS)
	$(MAKE) -C ./libft
	$(MAKE) -C ./mlx
	$(CC) $(CFLAGSSAN) $^ -g -o $@ -L./libft -lft $(MLX) -lm

bonus: $(NAME_B)

$(NAME_B): $(OBJS_B)
	$(MAKE) -C ./libft
	$(MAKE) -C ./mlx
	$(CC) $(CFLAGSSAN) $^ -g -o $@ -L./libft -lft $(MLX) -lm

clean:
	$(MAKE) -C libft fclean
	$(MAKE) -C mlx fclean
	$(RM) $(OBJS)
	$(RM) $(OBJS_B)

fclean: clean
	$(RM) $(NAME)
	$(RM) $(NAME_B)

re: fclean all
