NAME = fdf

SRCS = error_handling.c\
	   draw_image.c\
	   draw_line.c\
	   draw_mesh.c\
	   fdf_main.c\
	   focus.c\
	   ft_atoi_limits.c\
	   ft_split_to_int.c\
	   ft_split_to_int2.c\
	   ft_substrf.c\
	   frees_linux.c\
	   get_coordinates.c\
	   get_next_line_bonus.c\
	   get_next_line_utils_bonus.c\
	   hooks_bonus_linux.c\
	   hooks2_bonus_linux.c\
	   init_store_bonus.c\
	   init_window.c\
	   origin.c\
	   projections.c\
	   read_map.c\
	   read_map2.c

OBJS = $(SRCS:.c=.o)
CC = gcc
CFLAGS = -Wall -Werror -Wextra -g3
#CFLAGS = -Wall -Wextra -Werror -g3 -fsanitize=address
CFLAGSSAN = -Wall -Werror -Wextra -g3 -fsanitize=address
#CFLAGSSAN = -Wall -Werror -Wextra -g3
MLX = -L./minilibx-linux -lmlx_Linux -lXext -lX11
RM = rm -rf

.PHONY: clean fclean all re

all: $(NAME)

.o:.c
	$(CC) $(CFLAGS) -c $< -o $@

$(NAME): $(OBJS)
	$(MAKE) -C ./libft
	$(MAKE) -C ./minilibx-linux
	$(CC) $(CFLAGSSAN) $^ -g -o $@ -L./libft -lft $(MLX) -lm

clean:
	$(MAKE) -C libft fclean
	$(MAKE) -C minilibx-linux clean
	$(RM) $(OBJS)

fclean: clean
	$(RM) $(NAME)

re: fclean all
